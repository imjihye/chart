{"version":3,"sources":["webpack:///webpack/bootstrap 7b5639d79d4690759604","webpack:///./src/ex.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;AAEA;AACA,WAAU;;AAEV;AACA;AACA;AACA;AACA;AACA,sCAAqC,iBAAiB,EAAE;AACxD;AACA,oCAAmC,kBAAkB,EAAE;AACvD,uCAAsC,+BAA+B,aAAa,EAAE,EAAE,EAAE;;AAExF;AACA,eAAc,yCAAyC;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,mCAAkC,iBAAiB,EAAE;;AAErD;AACA,sBAAqB,UAAU,EAAE;AACjC;AACA,gCAA+B,aAAa,EAAE;AAC9C;AACA;AACA;;AAEA;AACA,4BAA2B,eAAe,EAAE;AAC5C,6BAA4B,gBAAgB,EAAE;AAC9C,kCAAiC,0BAA0B,EAAE;;AAE7D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,8BAA6B,eAAe,EAAE;AAC9C,kCAAiC,gEAAgE,EAAE;AACnG;AACA;AACA,+BAA8B,uBAAuB,EAAE;AACvD,oCAAmC,8BAA8B,EAAE;AACnE;;AAEA;AACA;;AAEA;AACA;AACA,8BAA6B,eAAe,EAAE;AAC9C,+BAA8B,gBAAgB,EAAE;AAChD,oCAAmC,0BAA0B,EAAE;AAC/D;AACA,kCAAiC,aAAa,EAAE;AAChD;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAa,OAAO;AACpB;AACA;;AAEA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA,cAAa,OAAO;AACpB;AACA;;AAEA;AACA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7b5639d79d4690759604","'use strict';\n\nvar n = 4, // The number of series.\n    m = 5; // The number of values per series.\n\n// The xz array has m elements, representing the x-values shared by all series.\n// The yz array has n elements, representing the y-values of each of the n series.\n// Each yz[i] is an array of m non-negative numbers representing a y-value for xz[i].\n// The y01z array has the same structure as yz, but with stacked [y₀, y₁] instead of y.\nvar xz = d3.range(m),\n    yz = d3.range(n).map(function() { return bumps(m); }),\n    y01z = d3.stack().keys(d3.range(n))(d3.transpose(yz)),\n    yMax = d3.max(yz, function(y) { return d3.max(y); }),\n    y1Max = d3.max(y01z, function(y) { return d3.max(y, function(d) { return d[1]; }); });\n\nvar svg = d3.select(\"svg\"),\n    margin = {top: 40, right: 10, bottom: 20, left: 10},\n    width = +svg.attr(\"width\") - margin.left - margin.right,\n    height = +svg.attr(\"height\") - margin.top - margin.bottom,\n    g = svg.append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\nconsole.log(width)\nconsole.log(y1Max)\nvar x = d3.scaleBand()\n    .domain(xz)\n    .rangeRound([0, width])\n    .padding(0.08);\n\nvar y = d3.scaleLinear()\n    .domain([0, 50])\n    .range([height, 0]);\n\nvar color = d3.scaleOrdinal()\n    .domain(d3.range(n))\n    .range(d3.schemeCategory20c);\n\nvar series = g.selectAll(\".series\")\n  .data(y01z)\n  .enter().append(\"g\")\n    .attr(\"fill\", function(d, i) { return color(i); });\n\nvar rect = series.selectAll(\"rect\")\n  .data(function(d) { return d; })\n  .enter().append(\"rect\")\n    .attr(\"x\", function(d, i) { return x(i); })\n    .attr(\"y\", height)\n    .attr(\"width\", x.bandwidth())\n    .attr(\"height\", 0);\n\nrect.transition()\n    .delay(function(d, i) { return i * 10; })\n    .attr(\"y\", function(d) { return y(d[1]); })\n    .attr(\"height\", function(d) { return y(d[0]) - y(d[1]); });\n\ng.append(\"g\")\n    .attr(\"class\", \"axis axis--x\")\n    .attr(\"transform\", \"translate(0,\" + height + \")\")\n    .call(d3.axisBottom(x)\n        .tickSize(0)\n        .tickPadding(6));\n\nd3.selectAll(\"input\")\n    .on(\"change\", changed);\n\nvar timeout = d3.timeout(function() {\n  d3.select(\"input[value=\\\"grouped\\\"]\")\n      .property(\"checked\", true)\n      .dispatch(\"change\");\n}, 2000);\n\nfunction changed() {\n  timeout.stop();\n  if (this.value === \"grouped\") transitionGrouped();\n  else transitionStacked();\n}\n\nfunction transitionGrouped() {\n  y.domain([0, yMax]);\n\n  rect.transition()\n      .duration(500)\n      .delay(function(d, i) { return i * 10; })\n      .attr(\"x\", function(d, i) { return x(i) + x.bandwidth() / n * this.parentNode.__data__.key; })\n      .attr(\"width\", x.bandwidth() / n)\n    .transition()\n      .attr(\"y\", function(d) { return y(d[1] - d[0]); })\n      .attr(\"height\", function(d) { return y(0) - y(d[1] - d[0]); });\n}\n\nfunction transitionStacked() {\n  y.domain([0, y1Max]);\n\n  rect.transition()\n      .duration(500)\n      .delay(function(d, i) { return i * 10; })\n      .attr(\"y\", function(d) { return y(d[1]); })\n      .attr(\"height\", function(d) { return y(d[0]) - y(d[1]); })\n    .transition()\n      .attr(\"x\", function(d, i) { return x(i); })\n      .attr(\"width\", x.bandwidth());\n}\n\n// Returns an array of m psuedorandom, smoothly-varying non-negative numbers.\n// Inspired by Lee Byron’s test data generator.\n// http://leebyron.com/streamgraph/\nfunction bumps(m) {\n  var values = [], i, j, w, x, y, z;\n\n  // Initialize with uniform random values in [0.1, 0.2).\n  for (i = 0; i < m; ++i) {\n    values[i] = 0.1 + 0.1 * Math.random();\n  }\n\n  // Add five random bumps.\n  for (j = 0; j < 5; ++j) {\n    x = 1 / (0.1 + Math.random());\n    y = 2 * Math.random() - 0.5;\n    z = 10 / (0.1 + Math.random());\n    for (i = 0; i < m; i++) {\n      w = (i / m - y) * z;\n      values[i] += x * Math.exp(-w * w);\n    }\n  }\n\n  // Ensure all values are positive.\n  for (i = 0; i < m; ++i) {\n    values[i] = Math.max(0, values[i]);\n  }\n\n  return values;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ex.js\n// module id = 0\n// module chunks = 0"],"sourceRoot":""}